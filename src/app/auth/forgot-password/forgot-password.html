<div class="site-wrap">
  <div class="main login-card p-4">
    <div class="text-center mb-4">
      <svg class="logo-svg" width="64" height="64" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg">
        <rect rx="12" width="64" height="64" fill="#F6FBF6"/>
        <g transform="translate(6,6)">
          <path d="M22 2c-6 0-11 4-11 9 0 3 2 5 2 5l9 0 9 0s2-2 2-5c0-5-5-9-11-9z" fill="#FFD166"/>
          <path d="M2 30c0-6 6-12 14-12s14 6 14 12v10H2V30z" fill="#7FB069"/>
          <path d="M30 30L16 18 2 30" fill="#A7D48C" opacity="0.9"/>
          <rect x="12" y="20" width="8" height="12" rx="1.5" fill="#5C8A3B"/>
          <path d="M6 30h20" stroke="#4E7A2F" stroke-linecap="round" stroke-width="1"/>
        </g>
      </svg>
      <h3 class="brand-title mt-2">अपना<span class="brand-english">Blog</span></h3>
    </div>

    <h2 class="text-gradient mb-3">Forgot Password</h2>
    <p class="text-muted text-center mb-3 small">
      Reset your password by entering your new password
    </p>

    <form [formGroup]="forgotPasswordForm" (ngSubmit)="forgotPassword()">

      <div class="input-wrapper position-relative">
        <span class="input-icon-left"><i class="bi bi-lock-fill"></i></span>
        <input type="password" id="new_password" class="form-control with-icon-left" placeholder="Enter new Password" formControlName="new_password">
        <a href="#" class="input-icon-right" (click)="togglePassword('new_password'); $event.preventDefault()">
          <i id="toggleNewPassword" class="bi bi-eye-fill"></i>
        </a>
        <div style="color: red;">
          @if(forgotPasswordForm.get('new_password')?.invalid && isSubmited){
            <small>
              @if(forgotPasswordForm.get('new_password')?.errors?.['required']){
                New Password is required...!
              }
            </small>
            <small>
              @if(forgotPasswordForm.get('new_password')?.errors?.['minlength'] || forgotPasswordForm.get('new_password')?.errors?.['maxlength']){
                Password length must be between 5 to 10 characters...!
              }
            </small>
          }
        </div>          
      </div>

      <div class="input-wrapper position-relative">
        <span class="input-icon-left"><i class="bi bi-lock-fill"></i></span>
        <input type="password" id="confirm_password" class="form-control with-icon-left" placeholder="Enter Confirm Password" formControlName="confirm_password">
        <a href="#" class="input-icon-right" (click)="togglePassword('confirm_password'); $event.preventDefault()">
          <i id="toggleConfirmPassword" class="bi bi-eye-fill"></i>
        </a>
        <div style="color: red;">
          @if(forgotPasswordForm.get('confirm_password')?.invalid && isSubmited){
            <small>
              @if(forgotPasswordForm.get('confirm_password')?.errors?.['required']){
                Confirm Password is required...!
              }
            </small>
          }
        </div>     
      </div>

      <!-- Change Password Button -->
      <button type="submit" class="btn btn-change-password w-100 mb-3" [disabled]="!forgotPasswordForm.valid">
        <i class="bi bi-box-arrow-in-right me-2"></i>Change Password
      </button>

      @if(message){
        <span [ngStyle]="{color: isSuccess ? 'green' : 'red'}" class="message">{{message}}</span>
      }

    </form>
  </div>
</div>
