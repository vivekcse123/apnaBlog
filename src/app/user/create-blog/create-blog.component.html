<div class="create-post-page min-vh-100 d-flex align-items-center justify-content-center">
  <div class="create-post-container shadow-lg rounded-4 row w-100 mx-3">

    <!-- Left Form Section -->
    <div class="col-md-7 p-5">
      <h1 class="page-title mb-3">
        <i class="bi bi-pencil-square me-2 text-success"></i>Create a New Post
      </h1>
      <p class="page-description text-muted mb-4">
        Share your village story, post an image, and inspire others in the community.
      </p>

      <form [formGroup]="createPostForm" class="create-post-form" (ngSubmit)="postBlog()">

        <!-- Post Title -->
        <div class="mb-3">
          <label class="form-label fw-semibold text-secondary">Post Title</label>
          <input type="text" class="form-control" placeholder="Enter your post title" formControlName="title">
          <small class="text-danger" *ngIf="createPostForm.get('title')?.invalid && isSubmitted">
            Title is required.
          </small>
        </div>

        <!-- English Content -->
        <div class="mb-3">
          <label class="form-label fw-semibold text-secondary">Content (English)</label>
          <textarea rows="4" class="form-control" placeholder="Write your story in English..." formControlName="content_eng"></textarea>
          <small class="text-danger" *ngIf="createPostForm.get('content_eng')?.invalid && isSubmitted">
            English content is required.
          </small>
        </div>

        <!-- Hindi Content -->
        <div class="mb-3">
          <label class="form-label fw-semibold text-secondary">Content (Hindi)</label>
          <textarea rows="4" class="form-control" placeholder="Write your story in Hindi..." formControlName="content_hindi"></textarea>
        </div>

        <!-- Image Upload -->
        <div class="mb-3">
          <label class="form-label fw-semibold text-secondary">Upload Image</label> 
          <span class="format"> (only .jpg, .jpeg, .png)</span>
          <input type="file" class="form-control" (change)="onImageUpload($event)" multiple>
          <div class="image-preview mt-3 d-flex flex-wrap gap-3" *ngIf="post.images?.length">
            <img *ngFor="let img of post.images" [src]="img" alt="Preview" class="img-fluid rounded shadow-sm preview-img">
          </div>
        </div>

        <!-- Tags -->
        <div class="mb-4">
          <label class="form-label fw-semibold text-secondary">Tags (comma separated)</label>
          <input type="text" class="form-control" placeholder="#culture, #festival, #village" formControlName="tags">
        </div>

        <button type="submit" class="btn btn-success w-100 py-2 fw-semibold">
          <i class="bi bi-upload me-2"></i>Publish Post
        </button>
      </form>
    </div>

    <!-- Right Sidebar -->
    <div class="col-md-5 p-5 border-start bg-light d-flex flex-column gap-4">
      <div>
        <h4 class="fw-bold">Welcome, {{ userName || 'Guest' }}</h4>
        <p class="text-muted mb-3">Ready to post your village story?</p>
        <button type="button" class="btn btn-outline-success d-flex align-items-center gap-2" routerLink="/blogs">
          <i class="bi bi-arrow-left"></i> Back to Feed
        </button>
      </div>

      <div class="trending-section w-100">
        <h6 class="fw-bold mb-3"><i class="bi bi-fire me-2 text-danger"></i>Trending Topics</h6>
        <div class="d-flex flex-wrap gap-2">
          <span class="trending-item" *ngFor="let topic of trendingTopics">
            #{{ topic.tag }} ({{ topic.count }} posts)
          </span>
        </div>
      </div>
    </div>
  </div>
</div>
